<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">

<node name="/org/freedesktop/Secrets">
    <interface name="org.freedesktop.Secret.Service">

        <tp:docstring>
            The Secret Service manages all the sessions and collections.
        </tp:docstring>

        <property name="Collections" type="ao" access="read">
            <tp:docstring>The object paths of all collections (ie: keyrings)</tp:docstring>
        </property>

        <method name="OpenSession">
            <tp:docstring>Open a unique session for the caller application.</tp:docstring>
            <arg name="algorithm" type="s" direction="in">
                <tp:docstring>The algorithm the caller wishes to use.</tp:docstring>
            </arg>
            <arg name="input" type="v" direction="in">
                <tp:docstring>Input arguments for the algorithm.</tp:docstring>
            </arg>
            <arg name="output" type="v" direction="out">
                <tp:docstring>Output of the session algorithm negotiation.</tp:docstring>
            </arg>
            <arg name="result" type="o" direction="out">
                <tp:docstring>The object path of the session, if session was created.</tp:docstring>
            </arg>
        </method>

        <method name="CreateCollection">
            <tp:docstring>Create a new collection with the specified properties.</tp:docstring>
            <arg name="properties" type="a{sv}" direction="in">
                <tp:docstring>Properties for the new collection.</tp:docstring>
            </arg>
            <arg name="alias" type="s" direction="in">
                <tp:docstring>Alias of the new collection</tp:docstring>
            </arg>
            <annotation name="com.trolltech.QtDBus.QtTypeName.In0" value="QVariantMap"/>
            <arg name="collection" type="o" direction="out">
                <tp:docstring>The new collection object, or '/' if prompting is necessary.</tp:docstring>
            </arg>
            <arg name="prompt" type="o" direction="out">
                <tp:docstring>A prompt object if prompting is necessary, or '/' if no prompt was needed.</tp:docstring>
            </arg>
        </method>

        <method name="SearchItems">
            <tp:docstring>Find items in any collection.</tp:docstring>
            <arg name="attributes" type="a{ss}" direction="in">
                <tp:docstring>Find secrets in any collection.</tp:docstring>
            </arg>
            <annotation name="com.trolltech.QtDBus.QtTypeName.In0" value="KSecretsService::DBusStringStringMap"/>
            <arg name="unlocked" type="ao" direction="out">
                <tp:docstring>Items found.</tp:docstring>
            </arg>
            <arg name="locked" type="ao" direction="out">
                <tp:docstring>Items found that require authentication.</tp:docstring>
            </arg>
        </method>

        <method name="Unlock">
            <tp:docstring>Unlock the specified objects.</tp:docstring>
            <arg name="objects" type="ao" direction="in">
                <tp:docstring>Objects to unlock.</tp:docstring>
            </arg>
            <arg name="unlocked" type="ao" direction="out">
                <tp:docstring>Objects that were unlocked without a prompt.</tp:docstring>
            </arg>
            <arg name="prompt" type="o" direction="out">
                <tp:docstring>A prompt object which can be used to unlock the remaining objects, or the special value '/' when no prompt is necessary.</tp:docstring>
            </arg>
        </method>

        <method name="Lock">
            <tp:docstring>Lock the items.</tp:docstring>
            <arg name="objects" type="ao" direction="in">
                <tp:docstring>Objects to lock.</tp:docstring>
            </arg>
            <arg name="locked" type="ao" direction="out">
                <tp:docstring>Objects that were locked without a prompt.</tp:docstring>
            </arg>
            <arg name="Prompt" type="o" direction="out">
                <tp:docstring>A prompt to lock the objects, or the special value '/' when no prompt is necessary.</tp:docstring>
            </arg>
        </method>

        <method name="GetSecrets">
            <tp:docstring>Retrieve multiple secrets from different items.</tp:docstring>
            <arg name="items" type="ao" direction="in">
                <tp:docstring>Items to get secrets for.</tp:docstring>
            </arg>
            <arg name="session" type="o" direction="in">
                <tp:docstring>The session to use to encode the secrets.</tp:docstring>
            </arg>
            <arg name="secrets" type="a{o(oayay)}" direction="out" tp:type="ObjectPath_Secret_Map">
                <tp:docstring>Secrets for the items.</tp:docstring>
            </arg>
            <annotation name="com.trolltech.QtDBus.QtTypeName.Out0" value="KSecretsService::DBusObjectPathSecretMap"/>
        </method>

        <method name="ReadAlias">
            <tp:docstring>Get the collection with the given alias.</tp:docstring>
            <arg name="name" type='s' direction='in'>
                <tp:docstring>An alias, such as 'default'.</tp:docstring>
            </arg>
            <arg name="collection" type='o' direction='out'>
                <tp:docstring>The collection or the path '/' if no such collection exists.</tp:docstring>
            </arg>
        </method>

        <method name="SetAlias">
            <tp:docstring>Setup a collection alias.</tp:docstring>
            <arg name="name" type='s' direction='in'>
                <tp:docstring>An alias, such as 'default'.</tp:docstring>
            </arg>
            <arg name="collection" type='o' direction='in'>
                <tp:docstring>The collection.</tp:docstring>
            </arg>
        </method>

        <signal name="CollectionCreated">
            <tp:docstring>A collection was created.</tp:docstring>
            <arg name="collection" type="o">
                <tp:docstring>Collection that was created</tp:docstring>
            </arg>
        </signal>

        <signal name="CollectionDeleted">
            <tp:docstring>A collection was deleted.</tp:docstring>
            <arg name="collection" type="o">
                <tp:docstring>Collection that was deleted.</tp:docstring>
            </arg>
        </signal>

        <signal name="CollectionChanged">
            <tp:docstring>A collection was changed.</tp:docstring>
            <arg name="collection" type="o">
                <tp:docstring>Collection that was changed.</tp:docstring>
            </arg>
        </signal>

    </interface>

    </node>
